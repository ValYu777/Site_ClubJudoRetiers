<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bienvenue au Judo Club Retiers{% endblock %}</title>
    <link rel="icon" href="/images/logo_judo.png" type="image/png">

    <!-- SEO -->
    <meta name="description" content="Site officiel du Judo Club Retiers : disciplines, planning, inscriptions, résultats et plus.">
    <meta property="og:title" content="Judo Club Retiers">
    <meta property="og:description" content="Découvrez toutes les activités du club de judo, self-défense et taiso à Retiers.">
    <meta property="og:image" content="/images/logo_judo.png">

    <!-- Bootstrap & AOS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}

    <style>
        body {
            background: linear-gradient(135deg, #f0f4f7 0%, #dfe6eb 100%);
            color: #2B2B2B;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        .navbar {
            background-color: rgba(18, 25, 83, 0.9);
            backdrop-filter: blur(10px);
        }

       
        .navbar .nav-link {
            color: #fff !important;
            font-size: 1.3rem;
        }

        .navbar-brand {
    padding-left: 0 rem; /* diminue le padding gauche */
    color: #fff !important;
    font-size: 1.7rem;
}

        .navbar .nav-link:hover {
            color:rgb(137, 146, 211) !important;
        }

        .navbar-nav .nav-link {
    margin: 0 12px;
}

@media (min-width: 992px) {
    .navbar .dropdown:hover .dropdown-menu {
        display: block;
        margin-top: 0.5rem;
    }
}

@media (min-width: 992px) {
    .navbar .dropdown:hover > .dropdown-menu {
        display: block;
    }

    .navbar .dropdown-menu {
        margin-top: 0;
        transition: opacity 0.2s ease;
    }
}


        .navbar .dropdown-menu {
            background-color: rgb(28, 36, 104);
            border: none;
            border-radius: 8px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);

            right: 0;
    left: auto;
    overflow-wrap: break-word;
    word-break: break-word;
    white-space: normal;
        }

        .dropdown-item {
            color: #fff;
            transition: background-color 0.2s;
        }

        .dropdown-item:hover {
            background-color:rgb(70, 78, 149);
            color: #fff;
        }

        .main-content {
            margin: 20px auto;
            max-width: 1200px;
            padding: 30px;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        .main-content:hover {
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
        }

        footer {
            background-color:rgba(18,25,83,0.9);
            color: #ccc;
            padding: 40px 0;
            margin-top: 60px;
            text-align: center;
            font-size: 0.95rem;
        }

        footer a {
            color: #ccc;
        }

        footer a:hover,
        footer i:hover {
            color: #fff;
        }

        footer i {
            font-size: 1.2rem;
            margin: 0 0.5rem;
        }

        .breadcrumb {
            background: transparent;
            padding: 0.75rem 1rem;
            margin-bottom: 1.5rem;
        }

        .btn, .form-control {
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        #scrollTopBtn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            display: none;
        }

        @media (max-width: 991px) {
            .navbar-nav .dropdown-menu {
                position: static;
                box-shadow: none;
                margin-top: 0.5rem;
            }
        }

        .navbar .dropdown-toggle::after {
    display: none;
}


    </style>
</head>

<body>
<div class="d-flex flex-column min-vh-100">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="{{ path('home') }}">
                <img src="/images/logo_judo.png" alt="Logo" class="me-2" style="height: 80px; width: auto;">

                <span class="fw-bold text-uppercase">Judo Club Retiers</span>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">

                    <!-- Disciplines -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Disciplines</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('judo') }}">Judo</a></li>
                            <li><a class="dropdown-item" href="{{ path('taiso') }}">Taiso</a></li>
                            <li><a class="dropdown-item" href="{{ path('jujitsu') }}">Ju-Jitsu / Self-défense</a></li>
                        </ul>
                    </li>

                    <!-- Services -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Services</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('planning') }}">Calendrier</a></li>
                            <li><a class="dropdown-item" href="{{ path('horaires') }}">Horaires</a></li>
                            <li><a class="dropdown-item" href="{{ path('inscription') }}">Inscription</a></li>
                            <li><a class="dropdown-item" href="{{ path('reglement') }}">Documents</a></li>
                        </ul>
                    </li>

                    <!-- Actualités -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Actualités</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('galerie') }}">Galerie</a></li>
                            <li><a class="dropdown-item" href="{{ path('resultat') }}">Résultats</a></li>
                            <li><a class="dropdown-item" href="{{ path('operation_index') }}">Opérations</a></li>
                        </ul>
                    </li>

                    <!-- À propos -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">À propos</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ path('contact') }}">Contact</a></li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenu principal -->
    <main class="flex-grow-1" style="padding-top: 100px;" data-aos="fade-up">
        <div class="container mt-3">
            {% block breadcrumb %}{% endblock %}
        </div>
        {% block body %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p><strong>Judo Club Retiers</strong> - Tous droits réservés © {{ "now"|date("Y") }}</p>
            <p><a href="{{ path('home') }}">Accueil</a> | <a href="{{ path('reglement') }}">Règlement Intérieur</a> | <a href="{{ path('contact') }}">Contact</a></p>
            <div class="mb-2">
                <a href="https://www.facebook.com/judoclubretiers/"><i class="bi bi-facebook"></i></a>
                <a href="https://www.instagram.com/judoclubretiers/"><i class="bi bi-instagram"></i></a>
                <a href="#"><i class="bi bi-envelope-fill"></i></a>
            </div>

            {% if app.user %}
                <p class="mt-3">
                    <span class="text-light"><i class="bi bi-person-circle me-1"></i> Bonjour {{ app.user.email }}</span><br>
                    <a href="{{ path('app_logout') }}" class="btn btn-outline-danger btn-sm mt-2">
                        <i class="bi bi-box-arrow-right"></i> Déconnexion
                    </a>
                </p>
            {% else %}
                <p class="mt-3">
                    <a href="{{ path('app_login') }}" class="btn btn-outline-light btn-sm">
                        <i class="bi bi-box-arrow-in-right"></i> Connexion administrateur
                    </a>
                </p>
            {% endif %}
        </div>
    </footer>

    <!-- Scroll to top button -->
    <button id="scrollTopBtn" class="btn btn-dark rounded-circle">
        <i class="bi bi-arrow-up"></i>
    </button>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script>
    AOS.init();

    const scrollBtn = document.getElementById("scrollTopBtn");
    window.addEventListener("scroll", () => {
        scrollBtn.style.display = window.scrollY > 300 ? "block" : "none";
    });
    scrollBtn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });


     document.addEventListener('DOMContentLoaded', function () {
        const dropdowns = document.querySelectorAll('.navbar .dropdown');

        dropdowns.forEach(dropdown => {
            let timeout;

            dropdown.addEventListener('mouseenter', function () {
                clearTimeout(timeout);
                this.classList.add('show');
                const menu = this.querySelector('.dropdown-menu');
                menu.classList.add('show');
            });

            dropdown.addEventListener('mouseleave', function () {
                timeout = setTimeout(() => {
                    this.classList.remove('show');
                    const menu = this.querySelector('.dropdown-menu');
                    menu.classList.remove('show');
                }, 200); // délai pour permettre à la souris de passer sur le menu
            });
        });
    });
</script>

{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
{% endblock %}
</body>
</html>
